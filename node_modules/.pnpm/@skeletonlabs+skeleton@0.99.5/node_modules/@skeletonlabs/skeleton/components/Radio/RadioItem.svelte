<script>import { createEventDispatcher, getContext } from "svelte";
const dispatch = createEventDispatcher();
export let value = void 0;
export let label = "";
export let selected = getContext("selected");
export let padding = getContext("padding");
export let hover = getContext("hover");
export let accent = getContext("accent");
export let color = getContext("color");
export let fill = getContext("fill");
export let rounded = getContext("rounded");
const cBase = "font-bold text-base text-center cursor-pointer whitespace-nowrap";
function onKeyDown(event) {
  if (["Enter", "Space"].includes(event.code)) {
    event.preventDefault();
    dispatch("keydown", event);
    event.target.children[0].click();
  }
}
$:
  checked = value === $selected;
$:
  classesSelected = checked ? `${accent} ${fill} ${color}` : `${hover}`;
$:
  classesLabel = `${cBase} ${classesSelected} ${padding} ${rounded}`;
function prunedRestProps() {
  delete $$restProps.class;
  return $$restProps;
}
</script>

<div
	class="radio-item flex-auto"
	role="radio"
	aria-checked={checked}
	aria-label={label}
	{...prunedRestProps()}
	tabindex="0"
	data-testid="radio-item"
	on:click
	on:keydown={onKeyDown}
	on:keyup
	on:keypress
>
	<label class="radio-item-label {classesLabel}">
		<input class="radio-item-input hidden" type="radio" {value} bind:group={$selected} />
		<slot />
	</label>
</div>

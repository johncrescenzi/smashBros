<script>import { createEventDispatcher, getContext } from "svelte";
const dispatch = createEventDispatcher();
export let selected = getContext("selected");
export let borderWidth = getContext("borderWidth");
export let borderColor = getContext("borderColor");
export let color = getContext("color");
export let fill = getContext("fill");
export let hover = getContext("hover");
export let rounded = getContext("rounded");
export let value = $selected.value;
export let label = "tab";
const cBase = "font-bold list-none py-2.5 px-4 flex items-center space-x-2 cursor-pointer";
const cBorderColor = "border-transparent";
const cBaseLabel = "font-bold whitespace-nowrap";
function onClickHandler(value2) {
  dispatch("click", value2);
  selected.set(value2);
}
function onKeyDown(event) {
  dispatch("keydown", event);
  if (["Enter", "Space"].includes(event.code)) {
    event.preventDefault();
    event.target.click();
  }
}
$:
  isSelected = value == $selected;
$:
  classesSelected = isSelected ? `${borderWidth} ${borderColor} ${color} ${fill}` : `${borderWidth} ${cBorderColor}`;
$:
  classesBase = `${cBase} ${classesSelected} ${hover} ${rounded} ${$$props.class ?? ""}`;
$:
  classesLead = isSelected ? `${fill}` : "fill-token";
$:
  classesLabel = `${cBaseLabel}`;
</script>

<li
	class="tab ${classesBase}"
	on:click={() => {
		onClickHandler(value);
	}}
	on:keydown={onKeyDown}
	on:keyup
	on:keypress
	role="tab"
	tabindex="0"
	data-testid="tab"
>
	<!-- Slot: Lead -->
	{#if $$slots.lead}<div class="tab-lead {classesLead}"><slot name="lead" /></div>{/if}
	<!-- Slot: Default -->
	{#if $$slots.default}<div class="tab-label {classesLabel}" aria-label={label}><slot /></div>{/if}
</li>
